import{_ as a,o as l,c as p,n as o,g as e}from"./index-KOwJ0Udl.js";const D={data(){return{__cls:""}},mounted(){const s=this.$route.meta;s&&(this.__cls=s.cls||"")}},c=e(`<h2 id="数组更新视图不更新" tabindex="-1"><a class="header-anchor" href="#数组更新视图不更新" aria-hidden="true">#</a> 数组更新视图不更新</h2><p>在 vue2 中 数组的以下操作 只能更改数据 但是视图不能更新</p><p>1、如果想根据数组索引通过赋值改变该索引下的值，则数据改变，视图不更新</p><p>2、如果通过赋值改变数组长度，则数据改变，但视图不更新</p><p>3、直接赋值为空数组</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="shiki dark-plus" style="background-color:#1E1E1E;" tabindex="0"><code class="language-javascript"><span class="line"><span style="color:#DCDCAA;">data</span><span style="color:#D4D4D4;">(){</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#C8C8C8;">color</span><span style="color:#D4D4D4;">:[</span><span style="color:#CE9178;">&#39;oen&#39;</span><span style="color:#D4D4D4;">,</span><span style="color:#CE9178;">&#39;green&#39;</span><span style="color:#D4D4D4;">,</span><span style="color:#CE9178;">&#39;new&#39;</span><span style="color:#D4D4D4;">]</span></span>
<span class="line"><span style="color:#D4D4D4;">},</span></span>
<span class="line"><span style="color:#DCDCAA;">mounted</span><span style="color:#D4D4D4;">(){</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#569CD6;">this</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">color</span><span style="color:#D4D4D4;">[</span><span style="color:#B5CEA8;">1</span><span style="color:#D4D4D4;">] = </span><span style="color:#CE9178;">&#39;red&#39;</span><span style="color:#D4D4D4;"> </span><span style="color:#6A9955;">// 数据改变，但视图不更新</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#569CD6;">this</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">color</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">length</span><span style="color:#D4D4D4;"> = </span><span style="color:#B5CEA8;">2</span><span style="color:#D4D4D4;"> </span><span style="color:#6A9955;">//  数据改变，但视图不更新</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#569CD6;">this</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">color</span><span style="color:#D4D4D4;">= []</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#6A9955;">// 使用set方法</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#569CD6;">this</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">$set</span><span style="color:#D4D4D4;">(</span><span style="color:#569CD6;">this</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">color</span><span style="color:#D4D4D4;">,</span><span style="color:#B5CEA8;">1</span><span style="color:#D4D4D4;">,</span><span style="color:#CE9178;">&#39;red&#39;</span><span style="color:#D4D4D4;">) </span><span style="color:#6A9955;">// 数据改变，视图更新</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#569CD6;">this</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">color</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">splice</span><span style="color:#D4D4D4;">(</span><span style="color:#B5CEA8;">2</span><span style="color:#D4D4D4;">) </span><span style="color:#6A9955;">// 长度改变，视图更新</span></span>
<span class="line"><span style="color:#D4D4D4;">  </span><span style="color:#569CD6;">this</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">color</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">splice</span><span style="color:#D4D4D4;">(</span><span style="color:#B5CEA8;">0</span><span style="color:#D4D4D4;">, </span><span style="color:#569CD6;">this</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">color</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">length</span><span style="color:#D4D4D4;">) </span><span style="color:#6A9955;">// 清空数组 视图更新</span></span>
<span class="line"><span style="color:#D4D4D4;">},</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这里的 splice 方法是 vue 内置处理过的 可以响应式</p>`,7),r=[c];function t(s,i,y,d,n,C){return l(),p("div",{class:o([n.__cls,"theme-default-content"])},r,2)}const u=a(D,[["render",t]]);export{u as default};
